<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Protection Test (Fixed)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 600px;
            backdrop-filter: blur(10px);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .protection-list {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .protection-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
        }

        .protection-item:hover {
            transform: translateY(-2px);
        }

        .protection-icon {
            font-size: 24px;
            margin-right: 15px;
            width: 40px;
            text-align: center;
        }

        .protection-text {
            flex: 1;
        }

        .protection-key {
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
        }

        .status {
            float: right;
            color: #27ae60;
            font-weight: bold;
        }

        .test-area {
            background: #fff3cd;
            border: 2px dashed #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .alert {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 9999;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.3s ease;
        }

        .alert.show {
            opacity: 1;
            transform: translateX(0);
        }

        .log-area {
            background: #2c3e50;
            color: #ecf0f1;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: monospace;
            font-size: 14px;
            max-height: 200px;
            overflow-y: auto;
            text-align: left;
        }

        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .btn.clear {
            background: #95a5a6;
        }

        .btn.clear:hover {
            background: #7f8c8d;
        }

        .debug-info {
            background: #34495e;
            color: #ecf0f1;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üîí Keyboard Protection Test (Fixed)</h1>

        <div class="test-area">
            <h3>üìã ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</h3>
            <p>‡∏•‡∏≠‡∏á‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</p>
            <div class="debug-info" id="debugInfo">
                Last key pressed: None
            </div>
        </div>

        <div class="protection-list">
            <h3>üõ°Ô∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>

            <div class="protection-item">
                <div class="protection-icon">üö´</div>
                <div class="protection-text">
                    <strong>F12</strong> - Developer Tools
                    <br><span class="protection-key">F12</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>

            <div class="protection-item">
                <div class="protection-icon">üîß</div>
                <div class="protection-text">
                    <strong>Ctrl+Shift+I</strong> - Inspect Element
                    <br><span class="protection-key">Ctrl+Shift+I</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>

            <div class="protection-item">
                <div class="protection-icon">üìù</div>
                <div class="protection-text">
                    <strong>Ctrl+Shift+J</strong> - Console
                    <br><span class="protection-key">Ctrl+Shift+J</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>

            <div class="protection-item">
                <div class="protection-icon">üîç</div>
                <div class="protection-text">
                    <strong>Ctrl+Shift+C</strong> - Element Inspector
                    <br><span class="protection-key">Ctrl+Shift+C</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>

            <div class="protection-item">
                <div class="protection-icon">üìÑ</div>
                <div class="protection-text">
                    <strong>Ctrl+U</strong> - View Page Source
                    <br><span class="protection-key">Ctrl+U</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>

            <div class="protection-item">
                <div class="protection-icon">üñ±Ô∏è</div>
                <div class="protection-text">
                    <strong>Right Click</strong> - Context Menu
                    <br><span class="protection-key">Right Click</span>
                </div>
                <div class="status">‚úÖ Active</div>
            </div>
        </div>

        <div class="log-area" id="logArea">
            <div>üîí Protection System Initialized</div>
            <div>‚ö° Keyboard listeners activated</div>
            <div>üõ°Ô∏è Right-click protection enabled</div>
            <div>üìä Ready for testing...</div>
        </div>

        <button class="btn" onclick="testProtection()">üß™ Test Protection</button>
        <button class="btn clear" onclick="clearLog()">üóëÔ∏è Clear Log</button>
    </div>

    <script>
        let logCount = 0;

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏° log
        function addLog(message, type = 'info') {
            const logArea = document.getElementById('logArea');
            const logItem = document.createElement('div');
            const timestamp = new Date().toLocaleTimeString();

            let icon = 'üìù';
            let color = '#ecf0f1';

            switch (type) {
                case 'block':
                    icon = 'üö´';
                    color = '#e74c3c';
                    break;
                case 'warn':
                    icon = '‚ö†Ô∏è';
                    color = '#f39c12';
                    break;
                case 'success':
                    icon = '‚úÖ';
                    color = '#27ae60';
                    break;
                case 'debug':
                    icon = 'üîç';
                    color = '#9b59b6';
                    break;
            }

            logItem.innerHTML = `<span style="color: ${color};">[${timestamp}] ${icon} ${message}</span>`;
            logArea.appendChild(logItem);
            logArea.scrollTop = logArea.scrollHeight;

            logCount++;
            if (logCount > 50) {
                logArea.removeChild(logArea.firstChild);
                logCount--;
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á alert
        function showAlert(message, type = 'error') {
            const alert = document.createElement('div');
            alert.className = 'alert';
            alert.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <strong>${type === 'error' ? 'üö´' : '‚ö†Ô∏è'} ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!</strong><br>
                        ${message}
                    </div>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="background: none; border: none; color: white; cursor: pointer; font-size: 18px;">√ó</button>
                </div>
            `;

            document.body.appendChild(alert);
            setTimeout(() => alert.classList.add('show'), 100);

            setTimeout(() => {
                alert.classList.remove('show');
                setTimeout(() => alert.remove(), 300);
            }, 4000);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï debug info
        function updateDebugInfo(keyInfo) {
            const debugInfo = document.getElementById('debugInfo');
            debugInfo.innerHTML = `Last key pressed: ${keyInfo}`;
        }

        // ===========================================
        // üîí PROTECTION SYSTEM (FIXED)
        // ===========================================

        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô keyboard shortcuts
        document.addEventListener('keydown', function (e) {
            let blocked = false;
            let keyInfo = '';

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö debug
            const debugKeyInfo = `${e.ctrlKey ? 'Ctrl+' : ''}${e.shiftKey ? 'Shift+' : ''}${e.altKey ? 'Alt+' : ''}${e.key}`;
            updateDebugInfo(debugKeyInfo);
            addLog(`Key pressed: ${debugKeyInfo}`, 'debug');

            // F12 - Developer Tools
            if (e.key === 'F12') {
                e.preventDefault();
                blocked = true;
                keyInfo = 'F12 (Developer Tools)';
            }

            // Ctrl+Shift+I - Inspect Element
            else if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.key === '‡∏£' || e.key === '‡∏ì')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+I (Inspect Element)';
            }

            // Ctrl+Shift+J - Console
            else if (e.ctrlKey && e.shiftKey && (e.key === 'J' || e.key === 'j' || e.key === '‡πà' || e.key === '‡πã')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+J (Console)';
            }

            // Ctrl+Shift+C - Element Inspector
            else if (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.key === 'c' || e.key === '‡πÅ' || e.key === '‡∏â')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+C (Element Inspector)';
            }

            // Ctrl+U - View Source (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πá‡∏Å‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà)
            else if (e.ctrlKey && (e.key === 'u' || e.key === 'U' || e.key === '‡∏µ' || e.key === '‡πä')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+U (View Source)';
            }

            // Ctrl+Shift+K - Web Console (Firefox)
            else if (e.ctrlKey && e.shiftKey && (e.key === 'K' || e.key === 'k' || e.key === '‡∏≤' || e.key === '‡∏©')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+K (Web Console)';
            }

            // Ctrl+Shift+E - Network Panel (Firefox)
            else if (e.ctrlKey && e.shiftKey && (e.key === 'E' || e.key === 'e' || e.key === '‡∏≥' || e.key === '‡∏é')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+E (Network Panel)';
            }

            // F1 - Help (‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏õ‡∏¥‡∏î DevTools)
            else if (e.key === 'F1') {
                e.preventDefault();
                blocked = true;
                keyInfo = 'F1 (Help/DevTools)';
            }

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
            // Ctrl+Shift+S - Save Page
            else if (e.ctrlKey && e.shiftKey && (e.key === 'S' || e.key === 's' || e.key === '‡∏´' || e.key === '‡∏Ü')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+Shift+S (Save Page)';
            }

            // Ctrl+P - Print (‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)
            else if (e.ctrlKey && (e.key === 'p' || e.key === 'P' || e.key === '‡∏¢' || e.key === '‡∏ç')) {
                e.preventDefault();
                blocked = true;
                keyInfo = 'Ctrl+P (Print)';
            }

            if (blocked) {
                addLog(`üö´ BLOCKED: ${keyInfo}`, 'block');
                showAlert(`‡∏Å‡∏≤‡∏£‡∏Å‡∏î ${keyInfo} ‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô`);

                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô console
                console.clear();
                console.log('%cüö´ BLOCKED!', 'color: red; font-size: 40px; font-weight: bold;');
                console.log('%c‡∏Å‡∏≤‡∏£‡∏Å‡∏î ' + keyInfo + ' ‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô', 'color: #e74c3c; font-size: 16px;');
                console.log('%c‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! üõ°Ô∏è', 'color: #27ae60; font-size: 14px;');

                return false;
            }
        });

        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô right-click
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
            addLog('üö´ BLOCKED: Right-click (Context Menu)', 'block');
            showAlert('Right-click ‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
            return false;
        });

        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô text selection (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°)
        document.addEventListener('selectstart', function (e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return true; // ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏ô input fields
            }
            e.preventDefault();
            addLog('üö´ BLOCKED: Text Selection', 'block');
            return false;
        });

        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô drag and drop
        document.addEventListener('dragstart', function (e) {
            e.preventDefault();
            addLog('üö´ BLOCKED: Drag and Drop', 'block');
            return false;
        });

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î DevTools
        let devToolsOpen = false;

        function detectDevTools() {
            setInterval(() => {
                const threshold = 160;
                if (window.outerHeight - window.innerHeight > threshold ||
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devToolsOpen) {
                        devToolsOpen = true;
                        addLog('‚ö†Ô∏è DevTools opened detected!', 'warn');
                        showAlert('‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î Developer Tools!', 'warn');

                        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô console
                        console.clear();
                        console.log('%c‚ö†Ô∏è DEVELOPER TOOLS DETECTED!', 'color: orange; font-size: 30px; font-weight: bold;');
                        console.log('%c‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î DevTools', 'color: #f39c12; font-size: 16px;');
                        console.log('%c‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏õ‡∏¥‡∏î DevTools', 'color: #e74c3c; font-size: 14px;');
                    }
                } else {
                    if (devToolsOpen) {
                        devToolsOpen = false;
                        addLog('‚úÖ DevTools closed', 'success');
                    }
                }
            }, 1000);
        }

        // ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ copy source code
        document.addEventListener('copy', function (e) {
            if (window.getSelection().toString().length > 100) {
                e.preventDefault();
                addLog('üö´ BLOCKED: Large text copy attempt', 'block');
                showAlert('‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
                return false;
            }
        });

        // ===========================================
        // üß™ TEST FUNCTIONS
        // ===========================================

        function testProtection() {
            addLog('üß™ Running protection test...', 'info');

            const tests = [
                'F12 Protection',
                'Ctrl+Shift+I Protection',
                'Ctrl+Shift+J Protection',
                'Ctrl+U Protection',
                'Right-click Protection',
                'DevTools Detection',
                'Text Selection Protection',
                'Drag & Drop Protection'
            ];

            tests.forEach((test, index) => {
                setTimeout(() => {
                    addLog(`‚úÖ ${test}: Active`, 'success');
                }, index * 200);
            });

            setTimeout(() => {
                addLog('üéâ All protections are working perfectly!', 'success');
                showAlert('‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î!', 'success');
            }, tests.length * 200);
        }

        function clearLog() {
            const logArea = document.getElementById('logArea');
            logArea.innerHTML = '<div>üóëÔ∏è Log cleared</div>';
            logCount = 1;
            addLog('‚úÖ System ready for testing', 'info');
        }

        // ===========================================
        // üöÄ INITIALIZE
        // ===========================================

        document.addEventListener('DOMContentLoaded', function () {
            addLog('üîí Protection system initialized', 'success');
            detectDevTools();

            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô console
            console.clear();
            console.log('%cüîí PROTECTION ACTIVE', 'color: #27ae60; font-size: 24px; font-weight: bold;');
            console.log('%cKeyboard shortcuts protection enabled', 'color: #3498db; font-size: 14px;');
            console.log('%cTry pressing F12, Ctrl+Shift+I, Ctrl+U, or right-click to test!', 'color: #95a5a6; font-size: 12px;');

            setTimeout(() => {
                addLog('‚úÖ Ready for testing - try the protected keys!', 'info');
            }, 1000);
        });
    </script>
</body>

</html>